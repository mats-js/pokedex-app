let pokemonRepository=function(){let t=[];function e(){return t}function n(e){"object"!=typeof e?alert("New pokemon must be entered as an object"):"name"in e&&"detailsUrl"in e?t.push(e):alert("New pokemon must be entered with item keys name and detailsUrl")}function o(t){let e=t.detailsUrl;return $.ajax(e).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=[];for(var n=0;n<e.types.length;n++)t.types.push(e.types[n].type.name)}).catch(function(t){console.error(t)})}function i(t){o(t).then(function(){a(t)})}function a(t){let e=$(".modal-body"),n=$(".modal-title");n.empty(),e.empty();let o=$(`<h1>${t.name}</h1>`),i=$('<img class="modal-img" />');i.attr("src",t.imageUrl);let a=$(`<p>Height: ${t.height}</p>`),l=$(`<p>Types: ${t.types}</p>`);n.append(o),e.append(i),e.append(a),e.append(l)}return{getAll:e,add:n,addListItem:function(t){let e=$(".list-group"),n=$('<li class="list-group-item"></li>'),o=$(`<button type="button" class="btn list-group-item list-group-item-action list-group-item-light" data-toggle="modal" data-target="#exampleModal">${t.name}</button>`);o.addClass("list-button"),n.append(o),e.append(n),o.on("click",function(){i(t)})},loadList:function(){return $.ajax("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){t.results.forEach(function(t){n({name:t.name.charAt(0).toUpperCase()+t.name.slice(1),detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:o,showDetails:i,showModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});